//
//  Bitmap.swift
//  Palette
//
//  Created by Shawn Thye on 21/11/2018.
//  Copyright Â© 2018 Jonathan Zong. All rights reserved.
//

import Foundation

extension Bitmap {
    
    private func createARGBBitmapContext() -> CGContext? {
        
        //Get image width, height
        let pixelsWide = self.width
        let pixelsHigh = self.height
        
        // Declare the number of bytes per row. Each pixel in the bitmap in this
        // example is represented by 4 bytes; 8 bits each of red, green, blue, and
        // alpha.
        let bitmapBytesPerRow = Int(pixelsWide) * 4
        
        // Use the generic RGB color space.
        let colorSpace = CGColorSpaceCreateDeviceRGB()
        
        // Allocate memory for image data. This is the destination in memory
        // where any drawing to the bitmap context will be rendered.
        let bitmapData = UnsafeMutablePointer<UInt8>.allocate(capacity: bitmapBytesPerRow * pixelsHigh)
        let bitmapInfo = CGImageAlphaInfo.premultipliedFirst.rawValue
        
        // Create the bitmap context. We want pre-multiplied ARGB, 8-bits
        // per component. Regardless of what the source image format is
        // (CMYK, Grayscale, and so on) it will be converted over to the format
        // specified here by CGBitmapContextCreate.
        let context = CGContext(data: bitmapData, width: pixelsWide, height: pixelsHigh, bitsPerComponent: 8, bytesPerRow: bitmapBytesPerRow, space: colorSpace, bitmapInfo: bitmapInfo)
        
        return context
    }
    
    func getPixels(pixels: inout [ColorInt], offset: Int, stride: Int, x: Int, y: Int, width: Int, height: Int) {
        guard let context = self.createARGBBitmapContext() else {
            return
        }
        
        let pixelsWide = self.width
        let pixelsHigh = self.height
        let rect = CGRect(x: 0, y: 0, width: pixelsWide, height: pixelsHigh)
        
        //Clear the context
        context.clear(rect)
        
        // Draw the image to the bitmap context. Once we draw, the memory
        // allocated for the context for rendering will then contain the
        // raw image data in the specified color space.
        context.draw(self, in: rect)
        
        // Now we can get a pointer to the image data associated with the bitmap
        // context.
        guard let data = context.data?.assumingMemoryBound(to: UInt8.self) else {
            return
        }
        
        let dataType = UnsafeMutablePointer<UInt8>(data)
        
        for i in 0..<width * height {
            let offset = i * 4
            let alpha = dataType[offset]
            let red = dataType[offset + 1]
            let green = dataType[offset + 2]
            let blue = dataType[offset + 3]
            pixels[i] = Color.argb(alpha: Int(alpha),
                                   red: Int(red),
                                   green: Int(green),
                                   blue: Int(blue))
        }
        
        
        
        pixels = [Int](pixels[x * y..<width * height])
        
        pixels = [
            0xFF34658E,
            0xFF35668F,
            0xFF376690,
            0xFF366790,
            0xFF376891,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3A6B93,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3C6B95,
            0xFF3D6D95,
            0xFF3E6D97,
            0xFF3E6D97,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6E98,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3C6D96,
            0xFF3C6B95,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF396A93,
            0xFF396A93,
            0xFF386791,
            0xFF386791,
            0xFF366790,
            0xFF366790,
            0xFF36658F,
            0xFF35668F,
            0xFF33648D,
            0xFF33648D,
            0xFF35668F,
            0xFF35668F,
            0xFF366790,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3A6993,
            0xFF3B6B93,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6D97,
            0xFF3D6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3E6D97,
            0xFF3D6D95,
            0xFF3C6D96,
            0xFF3C6B95,
            0xFF3A6B94,
            0xFF3A6993,
            0xFF396A93,
            0xFF386992,
            0xFF376891,
            0xFF366790,
            0xFF366790,
            0xFF36658F,
            0xFF34658E,
            0xFF34658E,
            0xFF35668F,
            0xFF366790,
            0xFF386791,
            0xFF386992,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3B6C95,
            0xFF3D6C96,
            0xFF3D6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF42729A,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF3F6E98,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6B93,
            0xFF3B6A94,
            0xFF396892,
            0xFF396892,
            0xFF386791,
            0xFF366790,
            0xFF35668F,
            0xFF34658E,
            0xFF35648E,
            0xFF366790,
            0xFF376690,
            0xFF376891,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3B6C94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF43739B,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3C6D96,
            0xFF3C6C94,
            0xFF3C6C94,
            0xFF3A6B94,
            0xFF3A6993,
            0xFF3A6993,
            0xFF386791,
            0xFF386791,
            0xFF366790,
            0xFF36658F,
            0xFF34658E,
            0xFF376690,
            0xFF376891,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6D95,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3F7098,
            0xFF407098,
            0xFF417199,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3A6B94,
            0xFF396A93,
            0xFF396892,
            0xFF376891,
            0xFF366790,
            0xFF35668F,
            0xFF35668F,
            0xFF376891,
            0xFF386992,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF45759D,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6C94,
            0xFF3A6993,
            0xFF396A93,
            0xFF386992,
            0xFF386791,
            0xFF366790,
            0xFF35668F,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3C6D96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF45759D,
            0xFF46769E,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3A6B94,
            0xFF396A93,
            0xFF396A93,
            0xFF396892,
            0xFF376891,
            0xFF35668F,
            0xFF396892,
            0xFF396892,
            0xFF3B6A94,
            0xFF3B6C95,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF46769E,
            0xFF47779F,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407199,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3B6C94,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF386791,
            0xFF376891,
            0xFF366790,
            0xFF386992,
            0xFF386992,
            0xFF3A6B94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3D6C96,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF46769E,
            0xFF47779F,
            0xFF47779F,
            0xFF4878A0,
            0xFF4878A0,
            0xFF47779F,
            0xFF47779F,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF396892,
            0xFF386791,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3A6B94,
            0xFF3B6C95,
            0xFF3D6D95,
            0xFF3E6D97,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF47779F,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4878A0,
            0xFF4878A0,
            0xFF47779F,
            0xFF47779F,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF3F6F97,
            0xFF3F6E98,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3A6993,
            0xFF3A6993,
            0xFF376891,
            0xFF376891,
            0xFF3A6993,
            0xFF3B6B93,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF46769E,
            0xFF46769E,
            0xFF47779F,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4878A0,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF386992,
            0xFF376891,
            0xFF396892,
            0xFF3A6B94,
            0xFF3C6C94,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF42729A,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF46769E,
            0xFF47779F,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF49799F,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4878A0,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF43739B,
            0xFF43739B,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6C94,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF396892,
            0xFF386791,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF42729A,
            0xFF43749C,
            0xFFFEFEFE,
            0xFF44749C,
            0xFF46769E,
            0xFF46769E,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4C79A0,
            0xFF4B7BA1,
            0xFF4B7BA1,
            0xFF4B7BA3,
            0xFF4B7BA3,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4979A1,
            0xFF4878A0,
            0xFF4878A0,
            0xFF47779F,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF396A93,
            0xFF396A93,
            0xFF376891,
            0xFF396A93,
            0xFF3B6A94,
            0xFF3B6C95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFFFFFFFF,
            0xFF44749C,
            0xFF45759D,
            0xFF46769E,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4778A0,
            0xFF487A9F,
            0xFFC6D6E5,
            0xFF4B7BA3,
            0xFF4A7CA1,
            0xFF4C7A9E,
            0xFF4B7BA3,
            0xFF4B7BA3,
            0xFF4B7BA3,
            0xFF4A7AA2,
            0xFFFFFFFF,
            0xFF4878A0,
            0xFF4878A0,
            0xFF46759F,
            0xFF46769E,
            0xFF45759B,
            0xFF44749C,
            0xFF43739B,
            0xFF41729A,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3D6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3A6993,
            0xFF396892,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF457299,
            0xFF44749C,
            0xFFFFFFFB,
            0xFF4776A0,
            0xFF4878A0,
            0xFFFFFFFD,
            0xFF497AA2,
            0xFFDFE6EC,
            0xFF4B7BA3,
            0xFFFFFFFD,
            0xFF4C7CA2,
            0xFF4F7CA3,
            0xFFFEFFFF,
            0xFF4B7BA3,
            0xFF4C79A0,
            0xFFFFFFFF,
            0xFFFFFFFF,
            0xFFBACAD9,
            0xFF47779F,
            0xFFFFFFFF,
            0xFF45759D,
            0xFFFBFFFF,
            0xFF44749C,
            0xFFFFFFFF,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF396A93,
            0xFF376891,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF42729A,
            0xFF43739B,
            0xFF43749C,
            0xFF45759D,
            0xFFFFFFFF,
            0xFF47779F,
            0xFF48789E,
            0xFF4A76A3,
            0xFFFDFDFD,
            0xFFFEFFFF,
            0xFF4B7BA3,
            0xFFFFFFFF,
            0xFF4C7CA2,
            0xFF4C7CA4,
            0xFFFEFEFE,
            0xFF4B7BA3,
            0xFF4D7AA1,
            0xFF4979A1,
            0xFFFFFFFF,
            0xFFFFFFFF,
            0xFF47779F,
            0xFFFFFFFF,
            0xFF517EA5,
            0xFF43739B,
            0xFFFEFEFE,
            0xFFFFFFFF,
            0xFF447296,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3B6C95,
            0xFF3A6993,
            0xFF396892,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3C6D95,
            0xFF3E6E96,
            0xFF3F7098,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF44749A,
            0xFF46739D,
            0xFFFEFEFE,
            0xFF47779F,
            0xFFFFFFFD,
            0xFFFFFFFF,
            0xFFFFFFFF,
            0xFF4A7AA2,
            0xFFFEFFFF,
            0xFFFFFFFF,
            0xFFFFFEFF,
            0xFFFFFFFF,
            0xFFFEFFFF,
            0xFFFFFFFD,
            0xFF4E7AA1,
            0xFF4A7AA2,
            0xFFFFFEFF,
            0xFF4B76A0,
            0xFFFFFFFF,
            0xFFFFFFFF,
            0xFF47749D,
            0xFF44749C,
            0xFF91ABC4,
            0xFFEAEFF3,
            0xFF407199,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF396A93,
            0xFF396892,
            0xFF386791,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3B6C95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF407098,
            0xFF417199,
            0xFF417199,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF46769E,
            0xFF46769E,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4B7BA3,
            0xFF4B7BA3,
            0xFF4B7BA3,
            0xFF4A7AA0,
            0xFF5581A6,
            0xFF4979A1,
            0xFF48789E,
            0xFF47779F,
            0xFF47779F,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3A6993,
            0xFF396892,
            0xFF386992,
            0xFF396A93,
            0xFF3A6B94,
            0xFF3B6C95,
            0xFF3D6D95,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF46769E,
            0xFF47779F,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4B7BA3,
            0xFF4B7BA3,
            0xFF4B7B9F,
            0xFF4D7AA1,
            0xFF4A7AA0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF47779F,
            0xFF47779F,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6D97,
            0xFF3D6D95,
            0xFF3B6A94,
            0xFF396A93,
            0xFF396892,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6C95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF46769E,
            0xFF47779F,
            0xFF47779F,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4A7AA2,
            0xFF4A7AA2,
            0xFF4A7AA0,
            0xFF4A7AA2,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4878A0,
            0xFF4878A0,
            0xFF47779F,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3B6C95,
            0xFF3B6A94,
            0xFF396A92,
            0xFF386992,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6C94,
            0xFF3E6E96,
            0xFF3E6D97,
            0xFF3F6F97,
            0xFF417199,
            0xFF42729A,
            0xFF42729A,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF47779F,
            0xFF47779F,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4878A0,
            0xFF4979A1,
            0xFF4979A1,
            0xFF4878A0,
            0xFF4878A0,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3A6B93,
            0xFF396A93,
            0xFF386992,
            0xFF386791,
            0xFF396892,
            0xFF396A93,
            0xFF3A6B94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF47779F,
            0xFF47779F,
            0xFF47779F,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4A77A0,
            0xFF4878A0,
            0xFF4878A0,
            0xFF4878A0,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF44749C,
            0xFF44749C,
            0xFF42729A,
            0xFF42729A,
            0xFF407098,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3D6C96,
            0xFF3B6C95,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF396892,
            0xFF386791,
            0xFF376891,
            0xFF396892,
            0xFF396A93,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3C6D95,
            0xFF3C6D96,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF46769E,
            0xFF47779F,
            0xFF47779F,
            0xFF47779F,
            0xFF47779F,
            0xFF47779F,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF45759D,
            0xFF43739B,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3A6B93,
            0xFF396A93,
            0xFF386992,
            0xFF376891,
            0xFF376891,
            0xFF386791,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF417199,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF46769E,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF44749C,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF417199,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3D6D95,
            0xFF3C6D96,
            0xFF3C6B95,
            0xFF3A6B94,
            0xFF3A6993,
            0xFF396892,
            0xFF376891,
            0xFF366790,
            0xFF376891,
            0xFF386992,
            0xFF396A93,
            0xFF3A6993,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF44749C,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF46769E,
            0xFF45759D,
            0xFF45759D,
            0xFF45759D,
            0xFF44749C,
            0xFF44749C,
            0xFF43739B,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3D6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3B6B93,
            0xFF396A93,
            0xFF396892,
            0xFF376891,
            0xFF366790,
            0xFF366790,
            0xFF376891,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3C6C94,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3E6F97,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF44749C,
            0xFF43739B,
            0xFF42729A,
            0xFF43739B,
            0xFF42729A,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF396892,
            0xFF386992,
            0xFF376891,
            0xFF366790,
            0xFF35668F,
            0xFF366790,
            0xFF376891,
            0xFF386992,
            0xFF396892,
            0xFF3A6B94,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3C6C94,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF417199,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF43739B,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF3F6E98,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF386992,
            0xFF376891,
            0xFF376891,
            0xFF366790,
            0xFF35668F,
            0xFF35668F,
            0xFF366790,
            0xFF386791,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3B6A94,
            0xFF3C6C94,
            0xFF3D6D95,
            0xFF3E6D97,
            0xFF3E6D97,
            0xFF3F6E98,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF417199,
            0xFF417199,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF42729A,
            0xFF417199,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6C95,
            0xFF3B6A94,
            0xFF3A6993,
            0xFF386992,
            0xFF386791,
            0xFF366790,
            0xFF366790,
            0xFF35668F,
            0xFF34658E,
            0xFF36658F,
            0xFF366790,
            0xFF376891,
            0xFF386992,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6B93,
            0xFF3B6A94,
            0xFF3C6B95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF417199,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6A94,
            0xFF3B6A94,
            0xFF396A93,
            0xFF396892,
            0xFF386992,
            0xFF376891,
            0xFF366790,
            0xFF35668F,
            0xFF35668F,
            0xFF34658E,
            0xFF34658E,
            0xFF35668F,
            0xFF366790,
            0xFF376891,
            0xFF386992,
            0xFF386992,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3A6B94,
            0xFF3C6C94,
            0xFF3C6D96,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6F97,
            0xFF3F6F97,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF407098,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3E6E96,
            0xFF3E6D97,
            0xFF3E6E96,
            0xFF3D6D95,
            0xFF3D6C96,
            0xFF3C6B95,
            0xFF3C6C94,
            0xFF3C6B95,
            0xFF396A93,
            0xFF396A93,
            0xFF386992,
            0xFF386791,
            0xFF366790,
            0xFF35668F,
            0xFF34658E,
            0xFF34658E,
            0xFF33648D,
            0xFF34658E,
            0xFF34658E,
            0xFF35668F,
            0xFF366790,
            0xFF386791,
            0xFF376891,
            0xFF396892,
            0xFF3A6993,
            0xFF3B6A94,
            0xFF3B6A94,
            0xFF3B6C94,
            0xFF3C6B95,
            0xFF3C6D95,
            0xFF3D6C96,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3E6E96,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6F97,
            0xFF3F6E98,
            0xFF3E6F97,
            0xFF3E6F97,
            0xFF3D6E96,
            0xFF3E6E96,
            0xFF3D6C96,
            0xFF3D6D95,
            0xFF3D6D95,
            0xFF3C6B95,
            0xFF3B6C95,
            0xFF3B6A94,
            0xFF3A6B94,
            0xFF3A6993,
            0xFF396892,
            0xFF386992,
            0xFF376891,
            0xFF366790,
            0xFF366790,
            0xFF35668F,
            0xFF34658E,
            0xFF34658E,
            0xFF33648D
        ]
        
//        pixels = [
//            0xFF396892,
//            0xFF3F6F97,
//            0xFF43739B,
//            0xFF42729A,
//            0xFF3E6E96,
//            0xFF386791,
//            0xFF3D6D95,
//            0xFF44749C,
//            0xFF4979A1,
//            0xFF4979A1,
//            0xFF43739B,
//            0xFF3B6A94,
//            0xFF3D6C96,
//            0xFF44749C,
//            0xFF4979A1,
//            0xFF4979A1,
//            0xFF42729A,
//            0xFF3B6A94,
//            0xFF386992,
//            0xFF3F6F97,
//            0xFF42729A,
//            0xFF417199,
//            0xFF3E6D97,
//            0xFF376891
//        ]
    }
    
    func resize(_ scaleRatio: Double) -> Bitmap {
        let image = UIImage(cgImage: self)
        let size = image.size.applying(CGAffineTransform(scaleX: CGFloat(scaleRatio), y: CGFloat(scaleRatio)))
        
        // let hasAlpha = false
        // let scale: CGFloat = 0.0 // Automatically use scale factor of main screen
        
        // UIGraphicsBeginImageContextWithOptions(size, !hasAlpha, scale)
        UIGraphicsBeginImageContext(size)
        image.draw(in: CGRect(origin: .zero, size: size))
        
        let context = UIGraphicsGetImageFromCurrentImageContext()
        let scaledBitmap = context?.cgImage
        UIGraphicsEndImageContext()
        
        guard let bitmap = scaledBitmap else {
            return self
        }
        
        return bitmap
    }
}

